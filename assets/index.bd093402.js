import{A as dt}from"./AppType.07369b79.js";import{d as tt}from"./create.03b31fc7.js";import{t as o}from"./shared.f8da68a0.js";import{n as j}from"./index.6fa381a2.js";import{d as mt}from"./index.9b1139e6.js";import{u as ft,a as et,_ as pt,b as vt,c as _t}from"./en-US.0b8219db.js";import{w as $t,a as yt}from"./utils.d774da76.js";import"./vendor.10bd23ac.js";var it=60,nt=it*60,st=nt*24,St=st*7,N=1e3,B=it*N,X=nt*N,bt=st*N,Ht=St*N,z="millisecond",A="second",T="minute",O="hour",D="day",F="week",k="month",rt="quarter",C="year",R="date",gt="YYYY-MM-DDTHH:mm:ssZ",q="Invalid Date",xt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Mt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,kt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},W=function(i,e,n){var r=String(i);return!r||r.length>=e?i:""+Array(e+1-r.length).join(n)+i},It=function(i){var e=-i.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),s=n%60;return(e<=0?"+":"-")+W(r,2,"0")+":"+W(s,2,"0")},Dt=function t(i,e){if(i.date()<e.date())return-t(e,i);var n=(e.year()-i.year())*12+(e.month()-i.month()),r=i.clone().add(n,k),s=e-r<0,a=i.clone().add(n+(s?-1:1),k);return+(-(n+(e-r)/(s?r-a:a-r))||0)},Ct=function(i){return i<0?Math.ceil(i)||0:Math.floor(i)},wt=function(i){var e={M:k,y:C,w:F,d:D,D:R,h:O,m:T,s:A,ms:z,Q:rt};return e[i]||String(i||"").toLowerCase().replace(/s$/,"")},At=function(i){return i===void 0},Tt={s:W,z:It,m:Dt,a:Ct,p:wt,u:At},U="en",w={};w[U]=kt;var Z=function(i){return i instanceof Y},P=function(i,e,n){var r;if(!i)return U;if(typeof i=="string")w[i]&&(r=i),e&&(w[i]=e,r=i);else{var s=i.name;w[s]=i,r=s}return!n&&r&&(U=r),r||!n&&U},d=function(i,e){if(Z(i))return i.clone();var n=typeof e=="object"?e:{};return n.date=i,n.args=arguments,new Y(n)},Ot=function(i,e){return d(i,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})},l=Tt;l.l=P;l.i=Z;l.w=Ot;var Rt=function(i){var e=i.date,n=i.utc;if(e===null)return new Date(NaN);if(l.u(e))return new Date;if(e instanceof Date)return new Date(e);if(typeof e=="string"&&!/Z$/i.test(e)){var r=e.match(xt);if(r){var s=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(e)},Y=function(){function t(e){this.$L=P(e.locale,null,!0),this.parse(e)}var i=t.prototype;return i.parse=function(n){this.$d=Rt(n),this.$x=n.x||{},this.init()},i.init=function(){var n=this.$d;this.$y=n.getFullYear(),this.$M=n.getMonth(),this.$D=n.getDate(),this.$W=n.getDay(),this.$H=n.getHours(),this.$m=n.getMinutes(),this.$s=n.getSeconds(),this.$ms=n.getMilliseconds()},i.$utils=function(){return l},i.isValid=function(){return this.$d.toString()!==q},i.isSame=function(n,r){var s=d(n);return this.startOf(r)<=s&&s<=this.endOf(r)},i.isAfter=function(n,r){return d(n)<this.startOf(r)},i.isBefore=function(n,r){return this.endOf(r)<d(n)},i.$g=function(n,r,s){return l.u(n)?this[r]:this.set(s,n)},i.unix=function(){return Math.floor(this.valueOf()/1e3)},i.valueOf=function(){return this.$d.getTime()},i.startOf=function(n,r){var s=this,a=l.u(r)?!0:r,u=l.p(n),h=function(g,M){var S=l.w(s.$u?Date.UTC(s.$y,M,g):new Date(s.$y,M,g),s);return a?S:S.endOf(D)},f=function(g,M){var S=[0,0,0,0],I=[23,59,59,999];return l.w(s.toDate()[g].apply(s.toDate("s"),(a?S:I).slice(M)),s)},c=this.$W,p=this.$M,x=this.$D,b="set"+(this.$u?"UTC":"");switch(u){case C:return a?h(1,0):h(31,11);case k:return a?h(1,p):h(0,p+1);case F:{var y=this.$locale().weekStart||0,$=(c<y?c+7:c)-y;return h(a?x-$:x+(6-$),p)}case D:case R:return f(b+"Hours",0);case O:return f(b+"Minutes",1);case T:return f(b+"Seconds",2);case A:return f(b+"Milliseconds",3);default:return this.clone()}},i.endOf=function(n){return this.startOf(n,!1)},i.$set=function(n,r){var s,a=l.p(n),u="set"+(this.$u?"UTC":""),h=(s={},s[D]=u+"Date",s[R]=u+"Date",s[k]=u+"Month",s[C]=u+"FullYear",s[O]=u+"Hours",s[T]=u+"Minutes",s[A]=u+"Seconds",s[z]=u+"Milliseconds",s)[a],f=a===D?this.$D+(r-this.$W):r;if(a===k||a===C){var c=this.clone().set(R,1);c.$d[h](f),c.init(),this.$d=c.set(R,Math.min(this.$D,c.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},i.set=function(n,r){return this.clone().$set(n,r)},i.get=function(n){return this[l.p(n)]()},i.add=function(n,r){var s=this,a;n=Number(n);var u=l.p(r),h=function(x){var b=d(s);return l.w(b.date(b.date()+Math.round(x*n)),s)};if(u===k)return this.set(k,this.$M+n);if(u===C)return this.set(C,this.$y+n);if(u===D)return h(1);if(u===F)return h(7);var f=(a={},a[T]=B,a[O]=X,a[A]=N,a)[u]||1,c=this.$d.getTime()+n*f;return l.w(c,this)},i.subtract=function(n,r){return this.add(n*-1,r)},i.format=function(n){var r=this,s=this.$locale();if(!this.isValid())return s.invalidDate||q;var a=n||gt,u=l.z(this),h=this.$H,f=this.$m,c=this.$M,p=s.weekdays,x=s.months,b=s.meridiem,y=function(S,I,E,lt){return S&&(S[I]||S(r,a))||E[I].substr(0,lt)},$=function(S){return l.s(h%12||12,S,"0")},H=b||function(M,S,I){var E=M<12?"AM":"PM";return I?E.toLowerCase():E},g={YY:String(this.$y).slice(-2),YYYY:this.$y,M:c+1,MM:l.s(c+1,2,"0"),MMM:y(s.monthsShort,c,x,3),MMMM:y(x,c),D:this.$D,DD:l.s(this.$D,2,"0"),d:String(this.$W),dd:y(s.weekdaysMin,this.$W,p,2),ddd:y(s.weekdaysShort,this.$W,p,3),dddd:p[this.$W],H:String(h),HH:l.s(h,2,"0"),h:$(1),hh:$(2),a:H(h,f,!0),A:H(h,f,!1),m:String(f),mm:l.s(f,2,"0"),s:String(this.$s),ss:l.s(this.$s,2,"0"),SSS:l.s(this.$ms,3,"0"),Z:u};return a.replace(Mt,function(M,S){return S||g[M]||u.replace(":","")})},i.utcOffset=function(){return-Math.round(this.$d.getTimezoneOffset()/15)*15},i.diff=function(n,r,s){var a,u=l.p(r),h=d(n),f=(h.utcOffset()-this.utcOffset())*B,c=this-h,p=l.m(this,h);return p=(a={},a[C]=p/12,a[k]=p,a[rt]=p/3,a[F]=(c-f)/Ht,a[D]=(c-f)/bt,a[O]=c/X,a[T]=c/B,a[A]=c/N,a)[u]||c,s?p:l.a(p)},i.daysInMonth=function(){return this.endOf(k).$D},i.$locale=function(){return w[this.$L]},i.locale=function(n,r){if(!n)return this.$L;var s=this.clone(),a=P(n,r,!0);return a&&(s.$L=a),s},i.clone=function(){return l.w(this.$d,this)},i.toDate=function(){return new Date(this.valueOf())},i.toJSON=function(){return this.isValid()?this.toISOString():null},i.toISOString=function(){return this.$d.toISOString()},i.toString=function(){return this.$d.toUTCString()},t}(),at=Y.prototype;d.prototype=at;[["$ms",z],["$s",A],["$m",T],["$H",O],["$W",D],["$M",k],["$y",C],["$D",R]].forEach(function(t){at[t[1]]=function(i){return this.$g(i,t[0],t[1])}});d.extend=function(t,i){return t.$i||(t(i,Y,d),t.$i=!0),d};d.locale=P;d.isDayjs=Z;d.unix=function(t){return d(t*1e3)};d.en=w[U];d.Ls=w;d.p={};const _=["12","1","2","3","4","5","6","7","8","9","10","11"],m=["00","13","14","15","16","17","18","19","20","21","22","23"],G=["00","05","10","15","20","25","30","35","40","45","50","55"];function Nt(t){return["ampm","24hr"].includes(t)}const Ut={value:{type:String},shadow:{type:Boolean,default:!1},color:{type:String},headerColor:{type:String},format:{type:String,default:"ampm",validator:Nt},allowedTime:{type:Object},min:{type:String},max:{type:String},useSeconds:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},ot=(t,i)=>t==="24hr"||i==="am",J=(t,i,e)=>{const n=_.findIndex(s=>o(s)===o(e)),r=ot(t,i)?e:m[n];return{hourStr:r,hourNum:o(r)}},v=t=>{const[i,e,n]=t.split(":");return{hour:o(i),minute:o(e),second:o(n)}},ut=t=>{var x,b;const{time:i,format:e,ampm:n,hour:r,max:s,min:a,disableHour:u}=t,{hourStr:h,hourNum:f}=J(e,n,r);let c=!1,p=!1;if(u.includes(h))return!0;if(s&&!a){const{hour:y,minute:$}=v(s);c=y===f&&i>$}if(!s&&a){const{hour:y,minute:$}=v(a);c=y===f&&i<$}if(s&&a){const{hour:y,minute:$}=v(s),{hour:H,minute:g}=v(a);c=H===f&&i<g||y===f&&i>$}return((x=t.allowedTime)==null?void 0:x.minutes)&&(p=(b=t.allowedTime)==null?void 0:b.minutes(i)),c||p},ct=t=>{var b,y;const{time:i,format:e,ampm:n,hour:r,minute:s,max:a,min:u,disableHour:h}=t,{hourStr:f,hourNum:c}=J(e,n,r);let p=!1,x=!1;if(h.includes(f))return!0;if(a&&!u){const{hour:$,minute:H,second:g}=v(a);p=$===c&&H<s||H===s&&i>g}if(!a&&u){const{hour:$,minute:H,second:g}=v(u);p=$===c&&H>s||H===s&&i>g}if(a&&u){const{hour:$,minute:H,second:g}=v(a),{hour:M,minute:S,second:I}=v(u);p=$===c&&H<s||M===c&&S>s||$===c&&H===s&&i>g||M===c&&S===s&&i<I}return((b=t.allowedTime)==null?void 0:b.seconds)&&(x=(y=t.allowedTime)==null?void 0:y.seconds(i)),p||x};var Et=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"var-time-picker-clock"},[e("div",{staticClass:"var-time-picker-clock__hand",style:t.handStyle}),t._l(t.timeScales,function(n,r){return e("div",{key:n,staticClass:"var-time-picker-clock__item",class:[t.isActive(r,!1)?"var-time-picker-clock__item--active":null,t.isDisable(n)?"var-time-picker-clock__item--disable":null],style:t.getStyle(r,n,!1)},[t._v(" "+t._s(n)+" ")])}),t.format==="24hr"&&t.type==="hour"?e("div",{ref:"inner",staticClass:"var-time-picker-clock__inner"},t._l(t.hours24,function(n,r){return e("div",{key:n,staticClass:"var-time-picker-clock__item",class:[t.isActive(r,!0)?"var-time-picker-clock__item--active":null,t.isDisable(n)?"var-time-picker-clock__item--disable":null],style:t.getStyle(r,n,!0)},[t._v(" "+t._s(n)+" ")])}),0):t._e()],2)},Ft=[];const Lt=tt({name:"Clock",props:{isInner:{type:Boolean,required:!0},rad:{type:Number},format:{type:String,default:"ampm"},allowedTime:{type:Object},time:{type:Object,required:!0},useSeconds:{type:Boolean,default:!1},preventNextUpdate:{type:Boolean,default:!1},type:{type:String,default:"hour"},ampm:{type:String,default:"am"},color:{type:String},min:{type:String},max:{type:String}},data:()=>({inner:null,disableHour:[],disable24HourIndex:[]}),computed:{hours24(){return m},handStyle(){return{transform:`rotate(${o(this.rad)}deg)`,height:this.isInner&&this.type==="hour"?"calc(50% - 40px)":"calc(50% - 4px)",backgroundColor:this.getHandleColor(),borderColor:this.getHandleColor()}},activeItemIndex(){if(this.rad===void 0)return;const t=this.rad/30;return t>=0?t:t+12},timeScales(){return this.type==="hour"?_:G},activeItemIndexAndIsInner(){return[this.activeItemIndex,this.isInner]}},methods:{isDisableMinSec(t,i){t=t!=null?t:this.type==="minute"?this.time.minute:this.time.second;const e=this.type==="minute"?ut:ct,n={time:o(t),format:this.format,ampm:this.ampm,hour:this.time.hour,minute:o(this.time.minute),max:this.max,min:this.min,allowedTime:this.allowedTime,disableHour:this.disableHour};return i&&this.type==="minute"&&Reflect.deleteProperty(n,"minute"),e(n)},getHandleColor(){if(this.activeItemIndex===void 0)return this.color;const t=this.isInner?m[this.activeItemIndex]:this.timeScales[this.activeItemIndex];return this.timeScales===G?this.isDisableMinSec()?"#bdbdbd":this.color:this.isDisable(t)?"#bdbdbd":this.color},isActive(t,i){return i?this.activeItemIndex===t&&this.isInner:this.activeItemIndex===t&&(!this.isInner||this.type!=="hour")},isDisable(t){if(this.type==="hour"){if(ot(this.format,this.ampm))return this.disableHour.includes(t);const i=_.findIndex(e=>e===t);return this.disable24HourIndex.includes(i)}return this.isDisableMinSec(t,!0)},getStyle(t,i,e){const n=2*Math.PI/12*t-Math.PI/2,r=50*(1+Math.cos(n)),s=50*(1+Math.sin(n)),a=()=>this.isActive(t,e)?this.isDisable(i)?{backgroundColor:"#bdbdbd",color:"#fff"}:{backgroundColor:this.color,color:void 0}:{backgroundColor:void 0,color:void 0},{backgroundColor:u,color:h}=a();return{left:`${r}%`,top:`${s}%`,backgroundColor:u,color:h}},getSize(){const{width:t,height:i}=this.inner.getBoundingClientRect();return{width:t,height:i}},getHour(){return this.activeItemIndex===void 0?void 0:(this.ampm==="am"?_:m)[this.activeItemIndex].padStart(2,"0")}},watch:{activeItemIndexAndIsInner([t,i],[e,n]){if(t===e&&i===n||this.type!=="hour"||this.activeItemIndex===void 0)return;const s=i?m[this.activeItemIndex]:this.getHour(),a=this.useSeconds?`:${this.time.second}`:"",u=`${s}:${this.time.minute}${a}`;this.preventNextUpdate||this.$emit("update",u),this.$emit("change-prevent-update")},rad(t,i){if(this.type==="hour"||t===void 0||i===void 0)return;const e=t/6>=0?t/6:t/6+60,n=i/6>=0?i/6:i/6+60;if(e===n)return;let r;const{hourStr:s}=J(this.format,this.ampm,this.time.hour);if(this.type==="minute"){const a=d().minute(e).format("mm"),u=this.useSeconds?`:${this.time.second}`:"";r=`${s}:${a}${u}`}if(this.type==="second"){const a=d().second(e).format("ss"),u=this.useSeconds?`:${a}`:"";r=`${s}:${this.time.minute}${u}`}this.$emit("update",r)},max:{handler(t){var i;if(this.disableHour=[],t&&!this.min){const{hour:e}=v(t),n=_.filter(s=>o(s)>e),r=m.filter(s=>o(s)>e);this.disableHour=[...n,...r]}if(!t&&this.min){const{hour:e}=v(this.min),n=_.filter(s=>o(s)<e),r=m.filter(s=>o(s)<e);this.disableHour=[...n,...r]}if(t&&this.min){const{hour:e}=v(t),{hour:n}=v(this.min),r=_.filter(a=>o(a)<n||o(a)>e),s=m.filter(a=>o(a)<n||o(a)>e);this.disableHour=[...r,...s]}if((i=this.allowedTime)==null?void 0:i.hours){const{hours:e}=this.allowedTime,n=_.filter(s=>!e(o(s))),r=m.filter(s=>!e(o(s)));this.disableHour=[...new Set([...this.disableHour,...n,...r])]}this.disable24HourIndex=this.disableHour.map(e=>m.findIndex(n=>e===n)).filter(e=>e>=0)},immediate:!0},min:{handler(t){var i;if(this.disableHour=[],this.max&&!t){const{hour:e}=v(this.max),n=_.filter(s=>o(s)>e),r=m.filter(s=>o(s)>e);this.disableHour=[...n,...r]}if(!this.max&&t){const{hour:e}=v(t),n=_.filter(s=>o(s)<e),r=m.filter(s=>o(s)<e);this.disableHour=[...n,...r]}if(this.max&&t){const{hour:e}=v(this.max),{hour:n}=v(t),r=_.filter(a=>o(a)<n||o(a)>e),s=m.filter(a=>o(a)<n||o(a)>e);this.disableHour=[...r,...s]}if((i=this.allowedTime)==null?void 0:i.hours){const{hours:e}=this.allowedTime,n=_.filter(s=>!e(o(s))),r=m.filter(s=>!e(o(s)));this.disableHour=[...new Set([...this.disableHour,...n,...r])]}this.disable24HourIndex=this.disableHour.map(e=>m.findIndex(n=>e===n)).filter(e=>e>=0)},immediate:!0},allowedTime:{handler(t){if(this.disableHour=[],this.max&&!this.min){const{hour:i}=v(this.max),e=_.filter(r=>o(r)>i),n=m.filter(r=>o(r)>i);this.disableHour=[...e,...n]}if(!this.max&&this.min){const{hour:i}=v(this.min),e=_.filter(r=>o(r)<i),n=m.filter(r=>o(r)<i);this.disableHour=[...e,...n]}if(this.max&&this.min){const{hour:i}=v(this.max),{hour:e}=v(this.min),n=_.filter(s=>o(s)<e||o(s)>i),r=m.filter(s=>o(s)<e||o(s)>i);this.disableHour=[...n,...r]}if(t==null?void 0:t.hours){const{hours:i}=t,e=_.filter(r=>!i(o(r))),n=m.filter(r=>!i(o(r)));this.disableHour=[...new Set([...this.disableHour,...e,...n])]}this.disable24HourIndex=this.disableHour.map(i=>m.findIndex(e=>i===e)).filter(i=>i>=0)},immediate:!0}},mounted(){this.inner=this.$refs.inner}}),Q={};var Pt=j(Lt,Et,Ft,!1,Yt,null,null,null);function Yt(t){for(let i in Q)this[i]=Q[i]}var Bt=function(){return Pt.exports}(),Wt=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{ref:"picker",staticClass:"var-time-picker",class:[t.shadow?"var-elevation--2":null]},[e("div",{staticClass:"var-time-picker-title",style:{background:t.headerColor||t.color}},[e("div",{staticClass:"var-time-picker-title__time"},[e("div",{staticClass:"var-time-picker-title__btn",class:t.type==="hour"?"var-time-picker-title__btn--active":null,on:{click:function(n){return t.checkPanel("hour")}}},[t._v(" "+t._s(t.time.hour)+" ")]),e("span",[t._v(":")]),e("div",{staticClass:"var-time-picker-title__btn",class:t.type==="minute"?"var-time-picker-title__btn--active":null,on:{click:function(n){return t.checkPanel("minute")}}},[t._v(" "+t._s(t.time.minute)+" ")]),t.useSeconds?e("span",[t._v(":")]):t._e(),t.useSeconds?e("div",{staticClass:"var-time-picker-title__btn",class:t.type==="second"?"var-time-picker-title__btn--active":null,on:{click:function(n){return t.checkPanel("second")}}},[t._v(" "+t._s(t.time.second)+" ")]):t._e()]),t.format==="ampm"?e("div",{staticClass:"var-time-picker-title__ampm"},[e("div",{staticClass:"var-time-picker-title__btn",class:t.ampm==="am"?"var-time-picker-title__btn--active":null,on:{click:function(n){return t.checkAmpm("am")}}},[t._v(" AM ")]),e("div",{staticClass:"var-time-picker-title__btn",class:t.ampm==="pm"?"var-time-picker-title__btn--active":null,on:{click:function(n){return t.checkAmpm("pm")}}},[t._v(" PM ")])]):t._e()]),e("div",{staticClass:"var-time-picker-body"},[e("div",{ref:"container",staticClass:"var-time-picker-clock__container",on:{touchstart:t.moveHand,touchmove:t.moveHand,touchend:t.end}},[e("transition",{attrs:{name:"var-time-picker-panel-fade"}},[e("clock",{key:t.type,ref:"inner",attrs:{type:t.type,ampm:t.ampm,color:t.color,"is-inner":t.isInner,format:t.format,"allowed-time":t.allowedTime,rad:t.getRad,time:t.time,"prevent-next-update":t.isPreventNextUpdate,"use-seconds":t.useSeconds,max:t.max,min:t.min},on:{update:t.update,"change-prevent-update":t.changePreventUpdate}})],1)],1)])])},jt=[];const zt=tt({name:"VarTimePicker",components:{Clock:Bt},props:Ut,data:()=>({container:null,picker:null,inner:null,isInner:!1,isPreventNextUpdate:!1,isActualInner:!1,isChosenUsableHour:!1,isChosenUsableMinute:!1,hourRad:void 0,minuteRad:0,secondRad:0,type:"hour",ampm:"am",isDisableHour:!1,isDisableMinute:!1,time:{hour:"00",minute:"00",second:"00"},center:{x:0,y:0},innerRange:{x:[],y:[]}}),computed:{getRad(){return this.type==="hour"?this.hourRad:this.type==="minute"?this.minuteRad:this.secondRad}},methods:{update(t){const{onInput:i,onChange:e}=this.getListeners();i==null||i(t),e==null||e(t)},rad2deg(t){return t*57.29577951308232},checkPanel(t){this.isChosenUsableHour=!1,this.isDisableMinute=!1,this.type=t},findAvailableHour(t){const{disableHour:i}=this.inner,e=_.findIndex(s=>o(s)===o(this.time.hour)),n=t==="am"?_:m;return[...n.slice(e),...n.slice(0,e)].find((s,a)=>(this.isPreventNextUpdate=a!==0,!i.includes(s)))},checkAmpm(t){if(this.readonly)return;this.ampm=t;const i=this.findAvailableHour(t);if(!i)return;const e=this.useSeconds?`:${this.time.second}`:"",n=`${i.padStart(2,"0")}:${this.time.minute}${e}`;this.update(n)},getInner(t,i){const e=t>=this.innerRange.x[0]&&t<=this.innerRange.x[1],n=i>=this.innerRange.y[0]&&i<=this.innerRange.y[1];return e&&n},getTime(t){const i=this.format==="24hr"?"HH":"hh",{hour:e,minute:n,second:r}=v(t);return{hour:d().hour(e).format(i),minute:d().minute(n).format("mm"),second:d().second(r).format("ss")}},getHourIndex(t){const i=t/30;return i>=0?i:i+12},getRangeSize(){const{width:t,height:i}=this.inner.getSize(),e=this.center.x-t/2-8,n=this.center.x+t/2+8,r=this.center.y-i/2-8,s=this.center.y+i/2+8;return{rangeXMin:e,rangeXMax:n,rangeYMin:r,rangeYMax:s}},setHourRad(t,i,e){const{disableHour:n}=this.inner;this.isActualInner=this.getInner(t,i);const r=Math.round(e/30)*30+90,s=this.getHourIndex(r),a=this.isInner?_[s]:m[s];if(n.includes(a)||(this.isInner=this.format==="24hr"?this.getInner(t,i):!1),this.isInner!==this.isActualInner)return;const u=this.isInner||this.ampm==="pm"?m[s]:_[s];this.isDisableHour=n.includes(u),!this.isDisableHour&&(this.hourRad=r,this.isChosenUsableHour=!0)},setMinuteRad(t){const{disableHour:i}=this.inner,e=Math.round(t/6)*6+90,r={time:e/6>=0?e/6:e/6+60,format:this.format,ampm:this.ampm,hour:this.time.hour,max:this.max,min:this.min,disableHour:i,allowedTime:this.allowedTime};this.isDisableMinute=ut(r),!this.isDisableMinute&&(this.minuteRad=e,this.isChosenUsableMinute=!0)},setSecondRad(t){const{disableHour:i}=this.inner,e=Math.round(t/6)*6+90,r={time:e/6>=0?e/6:e/6+60,format:this.format,ampm:this.ampm,hour:this.time.hour,minute:o(this.time.minute),max:this.max,min:this.min,disableHour:i,allowedTime:this.allowedTime};ct(r)||(this.secondRad=e)},setCenterAndRange(){const{left:t,top:i,width:e,height:n}=this.container.getBoundingClientRect();if(this.center.x=t+e/2,this.center.y=i+n/2,this.type==="hour"&&this.format==="24hr"){const{rangeXMin:r,rangeXMax:s,rangeYMin:a,rangeYMax:u}=this.getRangeSize();this.innerRange.x=[r,s],this.innerRange.y=[a,u]}},moveHand(t){if(this.readonly)return;this.setCenterAndRange();const{clientX:i,clientY:e}=t.touches[0],n=i-this.center.x,r=e-this.center.y,s=Math.round(this.rad2deg(Math.atan2(r,n)));this.type==="hour"?this.setHourRad(i,e,s):this.type==="minute"?this.setMinuteRad(s):this.setSecondRad(s)},end(){if(!this.readonly){if(this.type==="hour"&&this.isChosenUsableHour){this.type="minute";return}this.type==="minute"&&this.useSeconds&&this.sChosenUsableMinute&&(this.type="second")}},changePreventUpdate(){this.isPreventNextUpdate=!1}},watch:{value:{handler(t){if(t){const{hour:i,minute:e,second:n}=v(t),r=d().hour(i).format("hh"),s=d().hour(i).format("HH"),a=d().minute(e).format("mm"),u=d().second(n).format("ss");this.hourRad=(r==="12"?0:o(r))*30,this.minuteRad=o(a)*6,this.secondRad=o(u)*6,this.time=this.getTime(t),this.format!=="24hr"&&(this.ampm=`${i}`.padStart(2,"0")===s&&m.includes(s)?"pm":"am"),this.isInner=this.format==="24hr"&&m.includes(s)}},immediate:!0}},created(){this.$nextTick(()=>{this.container=this.$refs.container,this.inner=this.$refs.inner,this.picker=this.$refs.picker})}}),K={};var Zt=j(zt,Wt,jt,!1,Jt,null,null,null);function Jt(t){for(let i in K)this[i]=K[i]}var L=function(){return Zt.exports}();L.install=function(t){t.component(L.name,L)};var Xt={basicUsage:"\u57FA\u672C\u4F7F\u7528",hour24:"24\u5C0F\u65F6\u683C\u5F0F",readonly:"\u53EA\u8BFB",timeLimit:"\u65F6\u95F4\u9650\u5236",custom:"\u81EA\u5B9A\u4E49",showSecond:"\u663E\u793A\u79D2"},qt={basicUsage:"Basic Usage",hour24:"24hr Format",readonly:"Readonly",timeLimit:"Time Limit",custom:"Custom",showSecond:"show-seconds"};const{add:ht,use:Gt,pack:Qt,packs:de,merge:me}=ft(),Kt=t=>{_t(t),Gt(t)};et("zh-CN",pt);et("en-US",vt);ht("zh-CN",Xt);ht("en-US",qt);var Vt=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",[e("app-type",[t._v(t._s(t.pack.basicUsage))]),e("var-time-picker",{model:{value:t.date,callback:function(n){t.date=n},expression:"date"}})],1),e("div",[e("app-type",[t._v(t._s(t.pack.hour24))]),e("var-time-picker",{attrs:{format:"24hr",shadow:""},model:{value:t.date1,callback:function(n){t.date1=n},expression:"date1"}})],1),e("div",[e("app-type",[t._v(t._s(t.pack.showSecond))]),e("var-time-picker",{attrs:{format:"24hr","use-seconds":""},model:{value:t.date5,callback:function(n){t.date5=n},expression:"date5"}})],1),e("div",[e("app-type",[t._v(t._s(t.pack.readonly))]),e("var-time-picker",{attrs:{readonly:"",shadow:""},model:{value:t.date2,callback:function(n){t.date2=n},expression:"date2"}})],1),e("div",[e("app-type",[t._v(t._s(t.pack.timeLimit))]),e("var-time-picker",{attrs:{format:"24hr","use-seconds":"",min:"2:28:38",max:"19:40:22","allowed-time":t.allowedTime},model:{value:t.date3,callback:function(n){t.date3=n},expression:"date3"}})],1),e("div",{staticStyle:{"padding-bottom":"20px"}},[e("app-type",[t._v(t._s(t.pack.custom))]),e("var-time-picker",{attrs:{shadow:"","header-color":"purple",color:"#7bb872",min:"2:28:38",max:"19:40:22"},on:{change:t.change},model:{value:t.date4,callback:function(n){t.date4=n},expression:"date4"}})],1)])},te=[];const ee={name:"TimePickerExample",components:{VarTimePicker:L,AppType:dt},data:()=>({date:"11:20",date1:"15:10",date2:"07:10",date3:"07:10:12",date4:"05:10",date5:"17:36:22",allowedTime:{hours(t){return t%2===0},minutes(t){return t%15!==0},seconds(t){return t%2!==0}}}),computed:{pack(){return Qt.value}},created(){$t(this,Kt),yt(this,mt)},methods:{change(t){console.log(t)}}},V={};var ie=j(ee,Vt,te,!1,ne,null,null,null);function ne(t){for(let i in V)this[i]=V[i]}var fe=function(){return ie.exports}();export{fe as default};
